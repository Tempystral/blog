---
import { Icon } from "astro-icon/components";

interface Props {
	title?: string;
	accent?: keyof typeof colors;
}

const { title, accent: selected = "amber" } = Astro.props;

const colors = {
	blue: "bg-accent-2",
	amber: "bg-accent",
	red: "bg-accent-2",
	gray: "bg-slate-500",
};

const icons = [
	{ name: "mdi:arrow-top-left-thick", size: 24 },
	{ name: "mdi:circle-medium", size: 16 },
	{ name: "mdi:circle-medium", size: 16 },
	{ name: "mdi:circle-medium", size: 16 },
	{ name: "mdi:circle-medium", size: 16 },
	{ name: "mdi:circle-medium", size: 16 },
];
---

<div
	class:list={[
		colors[selected],
		"aside-wrapper bg-accent before:bg-accent-3 relative mt-16 mb-4 ml-0 rounded-tl-2xl rounded-r-3xl rounded-b-3xl pt-1 pr-2 pb-2 pl-1",
	]}>
	<div
		class="text-accent-2 relative -inset-y-8 mt-1 -mb-7 flex h-6 flex-row items-center gap-1 pr-2 sm:pl-10">
		<span>
			{
				icons.map(({ name, size }) => (
					<Icon aria-hidden="true" class="inline" focusable="false" name={name} size={size} />
				))
			}
		</span>
		<!-- <span class="text-xl">• • • • •</span> -->
		<span class="text-md flex-grow font-bold">{title}</span>
		<Icon
			aria-hidden="true"
			class="inline"
			focusable="false"
			name="mdi:arrow-bottom-right-thick"
			size={24}
		/>
	</div>
	<p
		class="border-accent bg-text-bg dark:text-accent relative -inset-x-1.5 -inset-y-1.5 rounded-tl-xl rounded-tr-sm rounded-br-2xl rounded-bl-sm border-4 px-8 py-2">
		<slot />
	</p>
</div>
